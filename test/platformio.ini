[env:test_esp32]
platform = espressif32
board = esp32dev
framework = arduino
test_framework = unity

; Library dependencies
lib_deps = 
    ESP32MQTTClient

; Build flags for testing
build_flags = 
    -D UNITY_INCLUDE_DOUBLE
    -D CORE_DEBUG_LEVEL=5
    
; Test without custom logger
test_build_flags = 
    -D UNITY_INCLUDE_DOUBLE

[env:test_esp32_with_logger]
platform = espressif32
board = esp32dev
framework = arduino
test_framework = unity

; Library dependencies
lib_deps = 
    ESP32MQTTClient

; Build flags for testing with custom logger
build_flags = 
    -D UNITY_INCLUDE_DOUBLE
    -D CORE_DEBUG_LEVEL=5
    -D ESP32MQTTCLIENT_USE_LOGGER
    
; Test with custom logger
test_build_flags = 
    -D UNITY_INCLUDE_DOUBLE
    -D ESP32MQTTCLIENT_USE_LOGGER